<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <title>Benchmark Results</title>
    <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://www.datatables.net/rss.xml">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.12/css/jquery.dataTables.min.css">
    <script type="text/javascript" language="javascript" src="//code.jquery.com/jquery-1.12.3.js"> </script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"> </script>
    <script type="text/javascript" class="init">

$(document).ready(function() {
  $('#spec_handler').DataTable( {
     "ordering": true,
     "order": [[ 0, 'desc' ]]
  })
});
    </script>
</head>

<body>
  <h1 class="page_title">{{ title }}</h1>
  <table id="spec_handler" class="display" cellspacing="0" width="100%">
    <thead>
      <tr>
        <th>Date</th>
        <th>Status</th>
        <th>Elapsed</th>
        <th>Mem Use</th>
        <th>LoadAvg1m</th>
        <th>LoadAvg5m</th>
        <th>LoadAvg15m</th>
        <th>Commits</th>
      </tr>
    </thead>
    {% for i in range(len(items['timestamp'])) %}
      <tr>
        <td align="center">{{ date(items['timestamp'][i]) }}</td>
        <td align="center">{{items['status'][i]}}</td>
        <td align="center">{{items['elapsed'][i]}}</td>
        <td align="center">{{items['memory'][i]}}</td>
        <td align="center">{{items['LoadAvg1m'][i]}}</td>
        <td align="center">{{items['LoadAvg5m'][i]}}</td>
        <td align="center">{{items['LoadAvg15m'][i]}}</td>
        <td align="center">
        {% for (name, commit, prefix), (pname, pcommit, pprefix) in zip(items['commits'][items['timestamp'][i]], items['commits'][items['timestamp'][i-1]])  %}
            {% if pcommit != commit and i > 0 %}
                {% if "github" in prefix %}
                    <a style="color:red" href="{{prefix}}/compare/{{pcommit}}...{{commit}}">{{name}}</a>
                {% elif "bitbucket" in prefix %}
                    <a style="color:red" href="{{prefix}}/compare/{{commit}}%0D{{pcommit}}#diff">{{name}}</a>
                {% end %}
            {% else %}
                {% if "github" in prefix %}
                    <a style="color:blue" href="{{prefix}}/commit/{{commit}}">{{name}}</a>
                {% elif "bitbucket" in prefix %}
                    <a style="color:blue" href="{{prefix}}/commits/{{commit}}">{{name}}</a>
                {% end %}
            {% end %}

        {% end %}
        </td>
      </tr>
     {% end %}
  </table>
</body>
</html>
